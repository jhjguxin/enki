<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class BeValidXhtml - RDoc Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>spec/support/be_valid_xhtml.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="Object.html">Object</a>
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-new">::new</a>
    
    <li><a href="#method-i-description">#description</a>
    
    <li><a href="#method-i-failure_message">#failure_message</a>
    
    <li><a href="#method-i-matches-3F">#matches?</a>
    
    <li><a href="#method-i-negative_failure_message">#negative_failure_message</a>
    
    <li><a href="#method-i-wrap_with_xhtml_header">#wrap_with_xhtml_header</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="./LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="./Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="./Rakefile~.html">Rakefile~</a>
  
    <li class="file"><a href="./public/robots_txt.html">robots</a>
  
    <li class="file"><a href="./vendor/plugins/acts_as_taggable_on_steroids/CHANGELOG.html">CHANGELOG</a>
  
    <li class="file"><a href="./vendor/plugins/acts_as_taggable_on_steroids/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li class="file"><a href="./vendor/plugins/acts_as_taggable_on_steroids/README.html">README</a>
  
    <li class="file"><a href="./vendor/plugins/acts_as_taggable_on_steroids/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="./vendor/plugins/acts_as_taggable_on_steroids/Rakefile~.html">Rakefile~</a>
  
    <li class="file"><a href="./vendor/plugins/exception_notification/README.html">README</a>
  
    <li class="file"><a href="./vendor/plugins/gravatar_image_tag/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="./vendor/plugins/gravatar_image_tag/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li class="file"><a href="./vendor/plugins/gravatar_image_tag/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="./vendor/plugins/gravatar_image_tag/VERSION.html">VERSION</a>
  
    <li class="file"><a href="./vendor/plugins/lesstile/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="./vendor/plugins/lesstile/History_txt.html">History</a>
  
    <li class="file"><a href="./vendor/plugins/lesstile/LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="./vendor/plugins/lesstile/Manifest_txt.html">Manifest</a>
  
    <li class="file"><a href="./vendor/plugins/lesstile/README_rdoc.html">README</a>
  
    <li class="file"><a href="./vendor/plugins/lesstile/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="./vendor/plugins/open_id_authentication/CHANGELOG.html">CHANGELOG</a>
  
    <li class="file"><a href="./vendor/plugins/open_id_authentication/README.html">README</a>
  
    <li class="file"><a href="./vendor/plugins/verification/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li class="file"><a href="./vendor/plugins/verification/README.html">README</a>
  
    <li class="file"><a href="./vendor/plugins/verification/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="./vendor/plugins/verification/Rakefile~.html">Rakefile~</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./Admin.html">Admin</a>
  
    <li><a href="./Admin/BaseController.html">Admin::BaseController</a>
  
    <li><a href="./Admin/CommentsController.html">Admin::CommentsController</a>
  
    <li><a href="./Admin/DashboardController.html">Admin::DashboardController</a>
  
    <li><a href="./Admin/HealthController.html">Admin::HealthController</a>
  
    <li><a href="./Admin/NavigationHelper.html">Admin::NavigationHelper</a>
  
    <li><a href="./Admin/PagesController.html">Admin::PagesController</a>
  
    <li><a href="./Admin/PostsController.html">Admin::PostsController</a>
  
    <li><a href="./Admin/SessionsController.html">Admin::SessionsController</a>
  
    <li><a href="./Admin/UndoItemsController.html">Admin::UndoItemsController</a>
  
    <li><a href="./ActiveRecord.html">ActiveRecord</a>
  
    <li><a href="./ActiveRecord/Acts.html">ActiveRecord::Acts</a>
  
    <li><a href="./ActiveRecord/Acts/Taggable.html">ActiveRecord::Acts::Taggable</a>
  
    <li><a href="./ActiveRecord/Acts/Taggable/ClassMethods.html">ActiveRecord::Acts::Taggable::ClassMethods</a>
  
    <li><a href="./ActiveRecord/Acts/Taggable/InstanceMethods.html">ActiveRecord::Acts::Taggable::InstanceMethods</a>
  
    <li><a href="./ActiveRecord/Acts/Taggable/SingletonMethods.html">ActiveRecord::Acts::Taggable::SingletonMethods</a>
  
    <li><a href="./ActionController.html">ActionController</a>
  
    <li><a href="./ActionController/TestCase.html">ActionController::TestCase</a>
  
    <li><a href="./ActionController/Verification.html">ActionController::Verification</a>
  
    <li><a href="./ActionController/Verification/ClassMethods.html">ActionController::Verification::ClassMethods</a>
  
    <li><a href="./GravatarImageTag.html">GravatarImageTag</a>
  
    <li><a href="./GravatarImageTag/ClassMethods.html">GravatarImageTag::ClassMethods</a>
  
    <li><a href="./GravatarImageTag/Configuration.html">GravatarImageTag::Configuration</a>
  
    <li><a href="./GravatarImageTag/InstanceMethods.html">GravatarImageTag::InstanceMethods</a>
  
    <li><a href="./ActionView.html">ActionView</a>
  
    <li><a href="./ActionView/Helpers.html">ActionView::Helpers</a>
  
    <li><a href="./ActionView/Helpers/TagHelper.html">ActionView::Helpers::TagHelper</a>
  
    <li><a href="./CoreExtensions.html">CoreExtensions</a>
  
    <li><a href="./CoreExtensions/Object.html">CoreExtensions::Object</a>
  
    <li><a href="./CoreExtensions/String.html">CoreExtensions::String</a>
  
    <li><a href="./Enki.html">Enki</a>
  
    <li><a href="./Enki/Application.html">Enki::Application</a>
  
    <li><a href="./Enki/Config.html">Enki::Config</a>
  
    <li><a href="./ExceptionNotifier.html">ExceptionNotifier</a>
  
    <li><a href="./ExceptionNotifier/Notifier.html">ExceptionNotifier::Notifier</a>
  
    <li><a href="./ExceptionNotifier/Notifier/MissingController.html">ExceptionNotifier::Notifier::MissingController</a>
  
    <li><a href="./OpenIdAuthentication.html">OpenIdAuthentication</a>
  
    <li><a href="./OpenIdAuthentication/Result.html">OpenIdAuthentication::Result</a>
  
    <li><a href="./Ability.html">Ability</a>
  
    <li><a href="./ActiveSupport.html">ActiveSupport</a>
  
    <li><a href="./ActsAsTaggableMigration.html">ActsAsTaggableMigration</a>
  
    <li><a href="./ActsAsTaggableMigrationGenerator.html">ActsAsTaggableMigrationGenerator</a>
  
    <li><a href="./ActsAsTaggableOnSteroidsFormTest.html">ActsAsTaggableOnSteroidsFormTest</a>
  
    <li><a href="./ActsAsTaggableOnSteroidsTest.html">ActsAsTaggableOnSteroidsTest</a>
  
    <li><a href="./AddIndexes.html">AddIndexes</a>
  
    <li><a href="./AddNameToUsers.html">AddNameToUsers</a>
  
    <li><a href="./AddPaperclipToAttachment.html">AddPaperclipToAttachment</a>
  
    <li><a href="./ApplicationController.html">ApplicationController</a>
  
    <li><a href="./ApplicationHelper.html">ApplicationHelper</a>
  
    <li><a href="./ArchivesController.html">ArchivesController</a>
  
    <li><a href="./Attachment.html">Attachment</a>
  
    <li><a href="./BeValidHtml5.html">BeValidHtml5</a>
  
    <li><a href="./BeValidXhtml.html">BeValidXhtml</a>
  
    <li><a href="./Comment.html">Comment</a>
  
    <li><a href="./CommentActivity.html">CommentActivity</a>
  
    <li><a href="./CommentsController.html">CommentsController</a>
  
    <li><a href="./CreateAttachments.html">CreateAttachments</a>
  
    <li><a href="./DateHelper.html">DateHelper</a>
  
    <li><a href="./DeleteCommentUndo.html">DeleteCommentUndo</a>
  
    <li><a href="./DeletePageUndo.html">DeletePageUndo</a>
  
    <li><a href="./DeletePostUndo.html">DeletePostUndo</a>
  
    <li><a href="./DeviseCreateUsers.html">DeviseCreateUsers</a>
  
    <li><a href="./DisableFlashSweeping.html">DisableFlashSweeping</a>
  
    <li><a href="./EnkiFormatter.html">EnkiFormatter</a>
  
    <li><a href="./FormHelper.html">FormHelper</a>
  
    <li><a href="./InitializeDb.html">InitializeDb</a>
  
    <li><a href="./Lesstile.html">Lesstile</a>
  
    <li><a href="./Magazine.html">Magazine</a>
  
    <li><a href="./NavigationHelper.html">NavigationHelper</a>
  
    <li><a href="./NavigationHelpers.html">NavigationHelpers</a>
  
    <li><a href="./Object.html">Object</a>
  
    <li><a href="./Page.html">Page</a>
  
    <li><a href="./PageTitleHelper.html">PageTitleHelper</a>
  
    <li><a href="./PagesController.html">PagesController</a>
  
    <li><a href="./Photo.html">Photo</a>
  
    <li><a href="./Post.html">Post</a>
  
    <li><a href="./PostsController.html">PostsController</a>
  
    <li><a href="./PostsHelper.html">PostsHelper</a>
  
    <li><a href="./RemoveOpenidAuthorityFromComment.html">RemoveOpenidAuthorityFromComment</a>
  
    <li><a href="./SpecialPhoto.html">SpecialPhoto</a>
  
    <li><a href="./SpecialPost.html">SpecialPost</a>
  
    <li><a href="./Stats.html">Stats</a>
  
    <li><a href="./Subscription.html">Subscription</a>
  
    <li><a href="./Tag.html">Tag</a>
  
    <li><a href="./TagHelper.html">TagHelper</a>
  
    <li><a href="./TagList.html">TagList</a>
  
    <li><a href="./TagListTest.html">TagListTest</a>
  
    <li><a href="./TagTest.html">TagTest</a>
  
    <li><a href="./TaggingTest.html">TaggingTest</a>
  
    <li><a href="./TagsHelper.html">TagsHelper</a>
  
    <li><a href="./TagsHelperTest.html">TagsHelperTest</a>
  
    <li><a href="./TokenAuthenticationsController.html">TokenAuthenticationsController</a>
  
    <li><a href="./UndoFailed.html">UndoFailed</a>
  
    <li><a href="./UndoItem.html">UndoItem</a>
  
    <li><a href="./UrlHelper.html">UrlHelper</a>
  
    <li><a href="./User.html">User</a>
  
    <li><a href="./UserHelper.html">UserHelper</a>
  
    <li><a href="./VerificationTest.html">VerificationTest</a>
  
    <li><a href="./VerificationTestController.html">VerificationTestController</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class BeValidXhtml</h1>

  <div id="description" class="description">
    
<p>Paste me into spec_helper.rb, or save me somewhere else and require me in.</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <!-- Constants -->
    <section id="constants-list" class="section">
      <h3 class="section-header">Constants</h3>
      <dl>
      
        <dt id="CSS_VALIDATOR_HOST">CSS_VALIDATOR_HOST
        
        <dd class="description">
        
      
        <dt id="CSS_VALIDATOR_PATH">CSS_VALIDATOR_PATH
        
        <dd class="description">
        
      
        <dt id="MARKUP_VALIDATOR_HOST">MARKUP_VALIDATOR_HOST
        
        <dd class="description"><p>Assert that markup (html/xhtml) is valid according the W3C validator web
service. Validation errors, if any, will be included in the output. The
input fragment and response from the validator service will be cached in
the #{Rails.root}/tmp directory to minimize network calls.</p>

<p>For example, if you have a FooController with an action Bar, put this in
foo_controller_test.rb:</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier">test_bar_valid_markup</span>
  <span class="ruby-identifier">get</span> :<span class="ruby-identifier">bar</span>
  <span class="ruby-identifier">assert_valid_markup</span>
<span class="ruby-keyword">end</span>
</pre>
        
      
        <dt id="MARKUP_VALIDATOR_PATH">MARKUP_VALIDATOR_PATH
        
        <dd class="description">
        
      
      </dl>
    </section>
    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(options)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File spec/support/be_valid_xhtml.rb, line 7</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-ivar">@fragment</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:fragment</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-description" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">description</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="description-source">
            <pre><span class="ruby-comment"># File spec/support/be_valid_xhtml.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">description</span>
  <span class="ruby-string">&quot;be valid xhtml&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- description-source -->
          
        </div>

        

        
      </div><!-- description-method -->

    
      <div id="method-i-failure_message" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">failure_message</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="failure_message-source">
            <pre><span class="ruby-comment"># File spec/support/be_valid_xhtml.rb, line 88</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">failure_message</span>
 <span class="ruby-node">&quot; expected xhtml to be valid, but validation produced these errors:\n #{@message}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- failure_message-source -->
          
        </div>

        

        
      </div><!-- failure_message-method -->

    
      <div id="method-i-matches-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">matches?</span><span
            class="method-args">(rendered)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="matches-3F-source">
            <pre><span class="ruby-comment"># File spec/support/be_valid_xhtml.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">matches?</span>(<span class="ruby-identifier">rendered</span>)
  <span class="ruby-identifier">fragment</span> = <span class="ruby-identifier">rendered</span>
  <span class="ruby-identifier">fragment</span> = <span class="ruby-identifier">wrap_with_xhtml_header</span>(<span class="ruby-identifier">fragment</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@fragment</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">validity_checks_disabled?</span>
  <span class="ruby-identifier">base_filename</span> = <span class="ruby-identifier">cache_resource</span>(<span class="ruby-string">'markup'</span>,<span class="ruby-identifier">fragment</span>,<span class="ruby-string">'html'</span>)

  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">base_filename</span>
  <span class="ruby-identifier">results_filename</span> =  <span class="ruby-identifier">base_filename</span> <span class="ruby-operator">+</span> <span class="ruby-string">'-results.yml'</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">results_filename</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">f</span>) <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">rescue</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">start</span>(<span class="ruby-constant">MARKUP_VALIDATOR_HOST</span>).<span class="ruby-identifier">post2</span>(<span class="ruby-constant">MARKUP_VALIDATOR_PATH</span>, <span class="ruby-node">&quot;fragment=#{CGI.escape(fragment)}&amp;output=xml&quot;</span>)
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">results_filename</span>, <span class="ruby-string">'w+'</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-identifier">response</span>, <span class="ruby-identifier">f</span>) <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">markup_is_valid</span> = <span class="ruby-identifier">response</span>[<span class="ruby-string">'x-w3c-validator-status'</span>] <span class="ruby-operator">==</span> <span class="ruby-string">'Valid'</span>
  <span class="ruby-ivar">@message</span> = <span class="ruby-string">''</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">markup_is_valid</span>
    <span class="ruby-identifier">fragment</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">$/</span>).<span class="ruby-identifier">each_with_index</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">line</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span> <span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{'%04i' % (index+1)} : #{line}#{$/}&quot;</span>} <span class="ruby-keyword">if</span> <span class="ruby-identifier">@@display_invalid_content</span>
    <span class="ruby-ivar">@message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">XmlSimple</span>.<span class="ruby-identifier">xml_in</span>(<span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span>)[<span class="ruby-string">'messages'</span>][<span class="ruby-value">0</span>][<span class="ruby-string">'msg'</span>].<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;Invalid markup: line #{m['line']}: #{CGI.unescapeHTML(m['content'])}&quot;</span> }.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">markup_is_valid</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- matches-3F-source -->
          
        </div>

        

        
      </div><!-- matches-3F-method -->

    
      <div id="method-i-negative_failure_message" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">negative_failure_message</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="negative_failure_message-source">
            <pre><span class="ruby-comment"># File spec/support/be_valid_xhtml.rb, line 92</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">negative_failure_message</span>
  <span class="ruby-string">&quot; expected to not be valid, but was (missing validation?)&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- negative_failure_message-source -->
          
        </div>

        

        
      </div><!-- negative_failure_message-method -->

    
      <div id="method-i-wrap_with_xhtml_header" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">wrap_with_xhtml_header</span><span
            class="method-args">(fragment)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="wrap_with_xhtml_header-source">
            <pre><span class="ruby-comment"># File spec/support/be_valid_xhtml.rb, line 66</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">wrap_with_xhtml_header</span>(<span class="ruby-identifier">fragment</span>)
    <span class="ruby-identifier">ret</span> = <span class="ruby-string">&quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE html PUBLIC
    &quot;-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN&quot;
    &quot;http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg-flat.dtd&quot;&gt;

&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;title&gt;Test&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  #{fragment}
&lt;/body&gt;
&lt;/html&gt;
&quot;</span>
  <span class="ruby-keyword">end</span></pre>
          </div><!-- wrap_with_xhtml_header-source -->
          
        </div>

        

        
      </div><!-- wrap_with_xhtml_header-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

